<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.13.0/css/all.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <style>
        .icon{
            padding-top:20px;
            padding-right: 12px;
        }
        .icon i{
            padding-right:5px;
        }
        .card{
            border-radius: 8px;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            transition: 0.3s;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

/* Hide default HTML checkbox */
        .switch input {
        opacity: 0;
        width: 0;
        height: 0;
        }

/* The slider */
        .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color:#28a745;
        -webkit-transition: .4s;
        transition: .4s;
        }

        .slider:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
        }

        input:checked + .slider {
        background-color: #2196F3;
        }

        input:focus + .slider {
        box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
        }

/* Rounded sliders */
        .slider.round {
        border-radius: 34px;
        }

        .slider.round:before {
        border-radius: 50%;
        }
    </style>
    <title></title>
  </head>
  <body class="bg-light">
    <nav class="navbar navbar-expand-md navbar-dark bg-primary">
        <span class="navbar-brand mx-auto">HealthApp</a>    
    </nav>
    <div class="container" style="padding-bottom: 20px;" >
        <div class="row card" style="margin-top: 3rem;">
            <div class="p-4 mx-5">
                <div class="row justify-content-center">
                    <span class="align-middle py-1 px-3">Diseases</span>
                <label class="switch"id="checkbox">
                    <input type="checkbox" >
                    <span class="slider round "></span>
                  </label>
                  <span class="align-middle py-1 px-3">Symptoms</span>
                </div>
                <div class="input-group" id="diseaseSearch">
                    <input id = "input_disease" class="form-control border-success" type="search" placeholder="Search User Posts with disease keyword" aria-label="Search" style="display:block">
                    <div class="input-group-append">
                        <button id = "btnSubmit_disease" class="btn btn-outline-success"><i class="fas fa-search"></i></button>
                    </div>
                </div>
                <div class="input-group" id="symptomSearch" style="display:none">
                    <input id = "input_symptom" class="form-control border-primary" type="search" placeholder="Search User Posts with symptoms keywords" aria-label="Search">
                    <div class="input-group-append">
                        <button id = "btnSubmit_symptom" class="btn btn-outline-primary"><i class="fas fa-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div id="mainArea">

        </div>
        <!-- <div class="row">
            <div class="col-sm-4 pl-0">
                <div class="card mb-3" id = "chartArea">
                
                </div>
                <div class="card pl-5 pb-4">
                    <span class="icon" style="color:#15aabf"><i class="fas fa-user-nurse fa-lg"></i>Trustworthiness</span>
                    <span class="icon" style="color:#f00c0c"><i class="fab fa-hotjar fa-lg"></i>Hotness</span>
                    <span class="icon" style="color:#4c6ef5"><i class="far fa-calendar-alt fa-lg"></i>Freshness</span>
                    <span class="icon" style="color:#f5a320"><i class="fas fa-ruler fa-lg"></i>Length</span>
                            
                </div>
            </div>
            
            
            <div class="col-sm-8 card container" id="posts">
                <div class = "row py-3 post border-bottom" id = "post1">
                    <div class="col-2  my-auto">
                        <img src="webmd.png" class="img-fluid" alt="Responsive image">
                    </div>
                    <div class="col-9 pl-4 border-left">
                        <div>
                            <h5>Trouble Sleeping</h5>
                            <h6><i>Sleep Problems</i></h6>
                            <span>Basically I been using a white noise machine for at least 6 months and everytime I use it I always gone..</span>
                            <div class="row justify-content-center">
                                <span class="icon" style="color:#15aabf"><i class="fas fa-user-nurse fa-lg"></i>0.9</span>
                                <span class="icon" style="color:#f00c0c"><i class="fab fa-hotjar fa-lg"></i>0.5</span>
                                <span class="icon" style="color:#4c6ef5"><i class="far fa-calendar-alt fa-lg"></i>11 Apr</span>
                                <span class="icon" style="color:#f5a320"><i class="fas fa-ruler fa-lg"></i>234</span>
                                
                            </div>
                        </div>
                    </div>
                    <div class="col-1 my-auto">
                        <a href=""><i class="fas fa-external-link-alt fa-lg"></i></a>
                    </div>
                </div>
                <div class = "row py-3 post border-bottom" id = "post1">
                    <div class="col-2  my-auto">
                        <img src="patient.png" class="img-fluid" alt="Responsive image">
                    </div>
                    <div class="col-9 pl-4 border-left">
                        <div>
                            <h5>Trouble Sleeping</h3>
                            <h6><i>Sleep Problems</i></h6>
                            <span>Basically I been using a white noise machine for at least 6 months and everytime I use it I always gone..</span>
                            <div class="row justify-content-center">
                                <span class="icon" style="color:#15aabf"><i class="fas fa-user-nurse fa-lg"></i>0.9</span>
                                <span class="icon" style="color:#f00c0c"><i class="fab fa-hotjar fa-lg"></i>0.5</span>
                                <span class="icon" style="color:#4c6ef5"><i class="far fa-calendar-alt fa-lg"></i>11 Apr</span>
                                <span class="icon" style="color:#f5a320"><i class="fas fa-ruler fa-lg"></i>234</span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-1 my-auto">
                        <a href=""><i class="fas fa-external-link-alt fa-lg"></i></a>
                    </div>
                </div>
                <div class = "row py-3 post border-bottom" id = "post1">
                    <div class="col-2  my-auto">
                        <img src="health24.png" class="img-fluid" alt="Responsive image">
                    </div>
                    <div class="col-9 pl-4 border-left">
                        <div>
                            <h5>Trouble Sleeping</h3>
                            <h6><i>Sleep Problems</i></h6>
                            <span>Basically I been using a white noise machine for at least 6 months and everytime I use it I always gone..</span>
                            <div class="row justify-content-center">
                                <span class="icon" style="color:#15aabf"><i class="fas fa-user-nurse fa-lg"></i>0.9</span>
                                <span class="icon" style="color:#f00c0c"><i class="fab fa-hotjar fa-lg"></i>0.5</span>
                                <span class="icon" style="color:#4c6ef5"><i class="far fa-calendar-alt fa-lg"></i>11 Apr</span>
                                <span class="icon" style="color:#f5a320"><i class="fas fa-ruler fa-lg"></i>234</span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-1 my-auto">
                        <a href=""><i class="fas fa-external-link-alt fa-lg"></i></a>
                    </div>
                </div>
                <div class = "row py-3 post border-bottom" id = "post1">
                    <div class="col-2  my-auto">
                        <img src="webmd.png" class="img-fluid" alt="Responsive image">
                    </div>
                    <div class="col-9 pl-4 border-left">
                        <div>
                            <h5>Trouble Sleeping</h3>
                            <h6><i>Sleep Problems</i></h6>
                            <span>Basically I been using a white noise machine for at least 6 months and everytime I use it I always gone..</span>
                            <div class="row justify-content-center">
                                <span class="icon" style="color:#15aabf"><i class="fas fa-user-nurse fa-lg"></i>0.9</span>
                                <span class="icon" style="color:#f00c0c"><i class="fab fa-hotjar fa-lg"></i>0.5</span>
                                <span class="icon" style="color:#4c6ef5"><i class="far fa-calendar-alt fa-lg"></i>11 Apr</span>
                                <span class="icon" style="color:#f5a320"><i class="fas fa-ruler fa-lg"></i>234</span>
                                
                            </div>
                        </div>
                    </div>
                    <div class="col-1 my-auto">
                        <a href=""><i class="fas fa-external-link-alt fa-lg"></i></a>
                    </div>
                </div>
                <div class = "row py-3 post border-bottom" id = "post1">
                    <div class="col-2  my-auto">
                        <img src="patient.png" class="img-fluid" alt="Responsive image">
                    </div>
                    <div class="col-9 pl-4 border-left">
                        <div>
                            <h5>Trouble Sleeping</h3>
                            <h6><i>Sleep Problems</i></h6>
                            <span>Basically I been using a white noise machine for at least 6 months and everytime I use it I always gone..</span>
                            <div class="row justify-content-center">
                                <span class="icon" style="color:#15aabf"><i class="fas fa-user-nurse fa-lg"></i>0.9</span>
                                <span class="icon" style="color:#f00c0c"><i class="fab fa-hotjar fa-lg"></i>0.5</span>
                                <span class="icon" style="color:#4c6ef5"><i class="far fa-calendar-alt fa-lg"></i>11 Apr</span>
                                <span class="icon" style="color:#f5a320"><i class="fas fa-ruler fa-lg"></i>234</span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-1 my-auto">
                        <a href=""><i class="fas fa-external-link-alt fa-lg"></i></a>
                    </div>
                </div>
                <div class = "row py-3 post border-bottom" id = "post1">
                    <div class="col-2  my-auto">
                        <img src="health24.png" class="img-fluid" alt="Responsive image">
                    </div>
                    <div class="col-9 pl-4 border-left">
                        <div>
                            <h5>Trouble Sleeping</h3>
                            <h6><i>Sleep Problems</i></h6>
                            <span>Basically I been using a white noise machine for at least 6 months and everytime I use it I always gone..</span>
                            <div class="row justify-content-center">
                                <span class="icon" style="color:#15aabf"><i class="fas fa-user-nurse fa-lg"></i>0.9</span>
                                <span class="icon" style="color:#f00c0c"><i class="fab fa-hotjar fa-lg"></i>0.5</span>
                                <span class="icon" style="color:#4c6ef5"><i class="far fa-calendar-alt fa-lg"></i>11 Apr</span>
                                <span class="icon" style="color:#f5a320"><i class="fas fa-ruler fa-lg"></i>234</span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-1 my-auto">
                        <a href=""><i class="fas fa-external-link-alt fa-lg"></i></a>
                    </div>
                </div>
            </div>
        </div> -->

       
        <br>
        
    </div>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script>
        
        var x = 1;
        const checkbox = document.getElementById('checkbox')
        checkbox.addEventListener( 'change', function() {
                symSearch = document.getElementById("symptomSearch")
                disSearch = document.getElementById("diseaseSearch")
                if(x){
                disSearch.style.display = "none";
                symSearch.style.display = "flex";
                x=0;
                }
                else{
                    symSearch.style.display = "none";
                    disSearch.style.display = "flex";
                    x=1;
                }
        });    
        //drawChart();
        function drawChart(){
            const margin = 50;
            const offsetWidth = document.getElementById("chartArea").offsetWidth;
            const offsetHeight = 300;
            const width = (offsetWidth - 2*margin);
            const height = offsetHeight - 2*margin;
            var chartDiv = d3.select("#chartArea").attr("height",offsetHeight);
            data = [{symptom:"Fever",posts:700},{symptom:"Cough",posts:600},{symptom:"Cold",posts:500}]
            
            var svg = chartDiv.append("svg").attr("width",offsetWidth-30).attr("height",offsetHeight);
            const chart = svg.append('g')
                .attr('transform', `translate(${margin}, ${margin})`);
            const yScale = d3.scaleLinear()
                .range([height, 0])
                .domain([0, Math.ceil(d3.max(data.map(s=>s.posts))/100+1)*100]);
            chart.append('g')
            .call(d3.axisLeft(yScale));
            const xScale = d3.scaleBand()
                .range([0, width])
                .domain(data.map(s=>s.symptom))
                .padding(0.2)

            chart.append('g')
                .attr('transform', `translate(0, ${height})`)
                .call(d3.axisBottom(xScale));
            chart.selectAll()
                .data(data)
                .enter()
                .append('rect')
                .attr('x', (d) => xScale(d.symptom))
                .attr('y',height)
                .attr('height',0)
                .attr('width', xScale.bandwidth())
                .attr("fill", "#15aabf")
                .transition().duration(1000)
                .attr('y',(d)=>yScale(d.posts))
                .attr('height', (s) => height - yScale(s.posts))
                ;
            chart.append("text")
            .attr("x", (width / 2))             
            .attr("y", -5)
            .attr("text-anchor", "middle")  
            .style("font-size", "16px")
            .text("Most Reported Symptoms");
                

        }
        </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <scrip src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    
    <script src="index.js">        
    </script>
  </body>
</html>